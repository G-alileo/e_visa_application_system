<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}E-Visa Portal{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: { DEFAULT: '#C48B28', light: '#EBC176', dark: '#9a6b1d' },
            background: '#FFF5E1',
          },
          fontFamily: {
            display: ['"Public Sans"', 'sans-serif'],
          },
        },
      },
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700;900&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet" />
  <style>
    :root { --primary:#C48B28; --primary-light:#EBC176; --bg:#FFF5E1; --text:#5A3C0B; }
    body { font-family:'Public Sans',sans-serif; background-color:var(--bg); color:var(--text); }
    .glass {
      background:rgba(255,245,225,0.75);
      backdrop-filter:blur(14px);
      -webkit-backdrop-filter:blur(14px);
      border:1px solid rgba(196,139,40,0.18);
    }
    .glass-card {
      background:rgba(255,248,230,0.85);
      backdrop-filter:blur(16px);
      -webkit-backdrop-filter:blur(16px);
      border:1px solid rgba(196,139,40,0.2);
      border-radius:1rem;
      box-shadow:0 4px 32px rgba(90,60,11,0.08);
    }
    .btn-primary {
      display:inline-flex; align-items:center; gap:6px;
      background:var(--primary); color:#fff;
      padding:0.5rem 1.4rem; border-radius:0.5rem;
      font-weight:600; font-size:0.875rem;
      transition:background 0.2s, transform 0.15s, box-shadow 0.2s;
      box-shadow:0 2px 8px rgba(196,139,40,0.25);
      cursor:pointer; border:none;
    }
    .btn-primary:hover { background:#9a6b1d; transform:translateY(-1px); box-shadow:0 4px 14px rgba(196,139,40,0.35); }
    .btn-secondary {
      display:inline-flex; align-items:center; gap:6px;
      background:transparent; color:var(--primary);
      padding:0.5rem 1.4rem; border-radius:0.5rem;
      font-weight:600; font-size:0.875rem; border:1.5px solid var(--primary);
      transition:background 0.2s, transform 0.15s; cursor:pointer;
    }
    .btn-secondary:hover { background:rgba(196,139,40,0.08); transform:translateY(-1px); }
    .btn-danger {
      display:inline-flex; align-items:center; gap:6px;
      background:#dc2626; color:#fff;
      padding:0.5rem 1.4rem; border-radius:0.5rem;
      font-weight:600; font-size:0.875rem; border:none;
      transition:background 0.2s, transform 0.15s; cursor:pointer;
    }
    .btn-danger:hover { background:#b91c1c; transform:translateY(-1px); }
    .fade-in { animation:fadeIn 0.4s ease-out both; }
    @keyframes fadeIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:none} }
    .status-pill {
      display:inline-flex; align-items:center;
      padding:2px 10px; border-radius:9999px;
      font-size:0.72rem; font-weight:700; letter-spacing:0.03em;
    }
    .s-DRAFT{background:#f1f5f9;color:#475569}
    .s-SUBMITTED{background:#dbeafe;color:#1d4ed8}
    .s-PRE_SCREENING{background:#e0e7ff;color:#4338ca}
    .s-UNDER_REVIEW{background:#fef3c7;color:#b45309}
    .s-PENDING_INFO{background:#fde68a;color:#92400e}
    .s-APPROVED{background:#d1fae5;color:#065f46}
    .s-REJECTED{background:#fee2e2;color:#991b1b}
    .s-ISSUED{background:#d1fae5;color:#065f46}
    .s-WITHDRAWN{background:#f3f4f6;color:#6b7280}
    .form-field {
      display:flex; flex-direction:column; gap:4px;
    }
    .form-field label { font-size:0.875rem; font-weight:600; color:var(--text); }
    .form-field input,.form-field select,.form-field textarea {
      width:100%; padding:0.625rem 0.875rem;
      border:1.5px solid rgba(196,139,40,0.3);
      border-radius:0.5rem;
      background:rgba(255,248,230,0.6);
      color:var(--text); font-size:0.9rem;
      transition:border-color 0.2s, box-shadow 0.2s;
      font-family:inherit;
    }
    .form-field input:focus,.form-field select:focus,.form-field textarea:focus {
      outline:none;
      border-color:var(--primary);
      box-shadow:0 0 0 3px rgba(196,139,40,0.15);
      background:rgba(255,248,230,0.9);
    }
    .form-error { font-size:0.8rem; color:#dc2626; margin-top:2px; }
    .table-row:hover { background:rgba(196,139,40,0.04); }
    .orb {
      position:fixed; border-radius:50%; pointer-events:none; z-index:0;
      filter:blur(80px); opacity:0.45;
    }
  </style>
  {% block extra_head %}{% endblock %}
</head>
<body class="min-h-screen flex flex-col relative overflow-x-hidden font-display">
  <!-- Ambient background orbs -->
  <div class="orb w-[500px] h-[500px] bg-primary-light/30 top-[-10%] left-[-10%]"></div>
  <div class="orb w-[400px] h-[400px] bg-amber-100/60 bottom-[-5%] right-[-5%]"></div>

  {% include "base/navbar.html" %}

  {% if messages %}
  <div class="relative z-10 max-w-5xl mx-auto w-full px-4 pt-3 space-y-2">
    {% for message in messages %}
    <div class="glass rounded-lg px-4 py-3 text-sm font-medium flex items-center gap-3
      {% if 'error' in message.tags %}bg-red-50/90 border-red-300 text-red-800
      {% elif 'success' in message.tags %}bg-green-50/90 border-green-300 text-green-800
      {% else %}bg-amber-50/90 border-amber-300 text-amber-800{% endif %}">
      <span class="material-symbols-outlined text-[20px]">
        {% if 'error' in message.tags %}error{% elif 'success' in message.tags %}check_circle{% else %}info{% endif %}
      </span>
      <span>{{ message }}</span>
    </div>
    {% endfor %}
  </div>
  {% endif %}

  <main class="flex-grow relative z-10 fade-in">
    {% block content %}{% endblock %}
  </main>

  {% include "base/footer.html" %}
</body>
</html>
